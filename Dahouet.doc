<html xmlns:o="urn:schemas-microsoft-com:office:office"
            xmlns:x="urn:schemas-microsoft-com:office:word"
            xmlns="http://www.w3.org/TR/REC-html40">

            <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
            <html>
            <head>
                <meta http-equiv="Content-type" content="text/html;charset=utf-8" />
            </head>
            <body><h1>Base de données Dahouet</h1><h2>Structure de la table challenge</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print">date_debut</td><td class="print">date</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">date_fin</td><td class="print">date</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">libelle</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table challenge</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">2017-11-01</td><td class="print">2018-04-30</td><td class="print">hiver2017</td><td class="print">1</td></tr><tr class="print-category"><td class="print">2018-05-01</td><td class="print">2018-09-30</td><td class="print">ete2018</td><td class="print">2</td></tr></table><h2>Structure de la table classe</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print">nom</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">coefficient</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">serie_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table classe</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">Corsaire</td><td class="print">0.5</td><td class="print">1</td><td class="print">1</td></tr><tr class="print-category"><td class="print">Surprise</td><td class="print">0.6</td><td class="print">1</td><td class="print">2</td></tr><tr class="print-category"><td class="print">8 mètres</td><td class="print">0.1</td><td class="print">1</td><td class="print">3</td></tr><tr class="print-category"><td class="print">Maraudeur</td><td class="print">0.7</td><td class="print">1</td><td class="print">4</td></tr><tr class="print-category"><td class="print">Figaro</td><td class="print">0.8</td><td class="print">1</td><td class="print">5</td></tr><tr class="print-category"><td class="print">Flying fifteen</td><td class="print">0.4</td><td class="print">2</td><td class="print">6</td></tr><tr class="print-category"><td class="print">Soling</td><td class="print">0.8</td><td class="print">2</td><td class="print">7</td></tr><tr class="print-category"><td class="print">Star</td><td class="print">0.6</td><td class="print">2</td><td class="print">8</td></tr><tr class="print-category"><td class="print">Tempest</td><td class="print">0.5</td><td class="print">2</td><td class="print">9</td></tr><tr class="print-category"><td class="print">Yngling</td><td class="print">0.6</td><td class="print">2</td><td class="print">10</td></tr><tr class="print-category"><td class="print">5.5</td><td class="print">0.6</td><td class="print">2</td><td class="print">11</td></tr></table><h2>Structure de la table club</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">libelle</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table club</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">Club des bouees</td></tr><tr class="print-category"><td class="print">2</td><td class="print">Club ded otaries</td></tr></table><h2>Structure de la table code</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">code</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">libelle</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table code</h2><table class="width100" cellspacing="1"></table><h2>Structure de la table comite</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">libelle</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table comite</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">Comite1</td></tr><tr class="print-category"><td class="print">2</td><td class="print">Comite2</td></tr></table><h2>Structure de la table commissaire</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">comite_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">regate_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">personne_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table commissaire</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">1</td><td class="print">1</td><td class="print">4</td></tr><tr class="print-category"><td class="print">2</td><td class="print">1</td><td class="print">2</td><td class="print">5</td></tr></table><h2>Structure de la table equipage</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">skipper</td><td class="print">tinyint(1)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table equipage</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">0</td></tr><tr class="print-category"><td class="print">2</td><td class="print">1</td></tr></table><h2>Structure de la table juge</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">nom</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">prenom</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">jury_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">personne_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table juge</h2><table class="width100" cellspacing="1"></table><h2>Structure de la table jury</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">regate_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">personne_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table jury</h2><table class="width100" cellspacing="1"></table><h2>Structure de la table NAVIGUER</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print">voilier_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">equipage_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table NAVIGUER</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">1</td></tr><tr class="print-category"><td class="print">2</td><td class="print">2</td></tr></table><h2>Structure de la table participant</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">personne_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">N_licence_FFV</td><td class="print">varchar(9)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">date_de_naissance</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">equipage_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table participant</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">4</td><td class="print">59874126</td><td class="print">16051975</td><td class="print">2</td></tr><tr class="print-category"><td class="print">2</td><td class="print">4</td><td class="print">584692322</td><td class="print">24518632</td><td class="print">1</td></tr></table><h2>Structure de la table PARTICIPE</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>voilier_id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print"><em><strong>regate_id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table PARTICIPE</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">1</td></tr><tr class="print-category"><td class="print">2</td><td class="print">2</td></tr></table><h2>Structure de la table personne</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">nom</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">prenom</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">email</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">mdp</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">adresse1</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">adresse2</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">CP</td><td class="print">int(5)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">ville</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">tel</td><td class="print">int(10)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table personne</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">Martin</td><td class="print">Marcel</td><td class="print">marcel.martin@test.fr</td><td class="print">mdp</td><td class="print">10, test de test</td><td class="print"></td><td class="print">29000</td><td class="print">TEST</td><td class="print">0</td></tr><tr class="print-category"><td class="print">3</td><td class="print">Letroc</td><td class="print">Pierre</td><td class="print">pierre.letroc@test.fr</td><td class="print">mdp</td><td class="print">10, test de test</td><td class="print"></td><td class="print">29000</td><td class="print">TEST</td><td class="print">0</td></tr><tr class="print-category"><td class="print">4</td><td class="print">Commissaire</td><td class="print">Marcel</td><td class="print">marcel.commissaire@test.fr</td><td class="print">mdp</td><td class="print">10 rue de rien</td><td class="print"></td><td class="print">29000</td><td class="print">RIEN</td><td class="print">0</td></tr><tr class="print-category"><td class="print">5</td><td class="print">Inspecteur</td><td class="print">Michel</td><td class="print">michel.inspecteur@test.fr</td><td class="print">mdp</td><td class="print">85 impasse du chien</td><td class="print"></td><td class="print">85000</td><td class="print">SANTAS</td><td class="print">0</td></tr></table><h2>Structure de la table proprietaire</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">voilier_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">club_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">personne_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table proprietaire</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">1</td><td class="print">1</td><td class="print">3</td></tr><tr class="print-category"><td class="print">2</td><td class="print">2</td><td class="print">1</td><td class="print">4</td></tr></table><h2>Structure de la table regate</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">date</td><td class="print">date</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">libelle</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">distance</td><td class="print">int(10)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">challenge_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table regate</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">2017-11-04</td><td class="print">semaine44</td><td class="print">258</td><td class="print">1</td></tr><tr class="print-category"><td class="print">2</td><td class="print">2017-11-11</td><td class="print">semaine45</td><td class="print">583</td><td class="print">1</td></tr></table><h2>Déclencheurs regate</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Nom</th><td class="print"><strong>Moment</strong></td><td class="print"><strong>Événement</strong></td><td class="print"><strong>Définition</strong></td></tr><tr class="print-category"><td class="print">trigger_de_creation</td><td class="print">BEFORE</td><td class="print">INSERT</td><td class="print">BEGIN
DECLARE DDEBUT DATE;
DECLARE DFIN DATE;
SELECT challenge.date_debut, challenge.date_fin
FROM challenge
INTO DDEBUT,DFIN;
IF DDEBUT &gt; NEW.date OR DFIN &lt; NEW.date
THEN
signal sqlstate '45000' set message_text = &quot;'MyTriggerError: Trying to insert a date which is not in the challenge trigger_de_creation&quot;;
END IF;
END</td></tr><tr class="print-category"><td class="print">trigger_de_suppression</td><td class="print">BEFORE</td><td class="print">DELETE</td><td class="print">BEGIN
DECLARE DATEFIN DATE;
SELECT challenge.id 
INTO DATEFIN 
FROM challenge 
WHERE challenge.id = OLD.challenge_id;
IF now() &lt; DATEFIN
THEN
signal sqlstate '45002' set message_text = 'Challenge non termine'; END IF;
END</td></tr></table><h2>Structure de la table resultat</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">voilier_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">code_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">temps_reel</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">temps_compose</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">regate_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">classement</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table resultat</h2><table class="width100" cellspacing="1"></table><h2>Déclencheurs resultat</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Nom</th><td class="print"><strong>Moment</strong></td><td class="print"><strong>Événement</strong></td><td class="print"><strong>Définition</strong></td></tr><tr class="print-category"><td class="print">trigger_de_MAJ</td><td class="print">BEFORE</td><td class="print">UPDATE</td><td class="print">BEGIN
DECLARE TOTALVOILIER INT;
SELECT COUNT(r.voilier_id)
INTO TOTALVOILIER
FROM resultat r 
WHERE r.regate_id=NEW.regate_id;
IF NEW.classement&gt;TOTALVOILIER
THEN
signal sqlstate '45001' set message_text = &quot;'MyTriggerError: hummmmmmm I think you have done something wrong trigger_de_MAJ&quot;;
END IF;
END</td></tr></table><h2>Structure de la table serie</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print">nom</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table serie</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">Habitable</td><td class="print">1</td></tr><tr class="print-category"><td class="print">Quillard de sport</td><td class="print">2</td></tr></table><h2>Structure de la table voilier</h2><table class="width100" cellspacing="1"><tr class="print-category"><th class="print">Colonne</th><td class="print"><strong>Type</strong></td><td class="print"><strong>Null</strong></td><td class="print"><strong>Valeur par défaut</strong></td></tr><tr class="print-category"><td class="print"><em><strong>id</strong></em></td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">nom</td><td class="print">varchar(255)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">classe_id</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr><tr class="print-category"><td class="print">num_voile</td><td class="print">int(11)</td><td class="print">Non</td><td class="print"></td></tr></table><h2>Contenu de la table voilier</h2><table class="width100" cellspacing="1"><tr class="print-category"><td class="print">1</td><td class="print">Cocotte</td><td class="print">5</td><td class="print">7</td></tr><tr class="print-category"><td class="print">2</td><td class="print">LoveMumForEver</td><td class="print">3</td><td class="print">22</td></tr></table></body></html>